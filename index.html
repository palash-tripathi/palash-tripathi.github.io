<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Palash Tripathi | Data Engineer</title>

  <style>
    :root{
      --bg:#0b0c10;
      --panel:rgba(18,18,26,.72);
      --border:rgba(255,255,255,.10);
      --text:#eaeaf2;
      --muted:#a6a6c3;
      --accent:#7c3aed; /* purple */
      --accent2:#3b82f6; /* blue */
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 18px;
    }

    *{ box-sizing:border-box }
    html{ scroll-behavior:smooth }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: var(--bg);
      color: var(--text);
      overflow-x:hidden;
    }

    /* Professional aurora: subtle + slow (not “party”) */
    body::before, body::after{
      content:"";
      position:fixed;
      inset:-25vh -25vw;
      z-index:-3;
      background:
        radial-gradient(1000px 520px at 12% 8%, rgba(124,58,237,.28), transparent 62%),
        radial-gradient(900px 560px at 88% 10%, rgba(59,130,246,.18), transparent 58%),
        radial-gradient(820px 540px at 55% 85%, rgba(124,58,237,.12), transparent 62%);
      filter: blur(22px);
      transform: translateZ(0);
      animation: aurora 22s ease-in-out infinite alternate;
      opacity:.95;
    }
    body::after{
      z-index:-4;
      filter: blur(34px);
      animation-duration: 30s;
      opacity:.55;
    }
    @keyframes aurora{
      from{ transform: translate(-1.2%,-0.8%) scale(1.02); }
      to  { transform: translate( 1.2%, 0.8%) scale(1.04); }
    }

    /* Spotlight follows cursor: extremely subtle */
    .spotlight{
      position:fixed; inset:0; z-index:-2;
      pointer-events:none;
      background: radial-gradient(
        560px 560px at var(--mx,50%) var(--my,15%),
        rgba(124,58,237,.10),
        transparent 62%
      );
      opacity:.9;
    }

    /* Top nav */
    .nav{
      position:sticky; top:0; z-index:50;
      background: rgba(11,12,16,.62);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .nav-inner{
      max-width: 1040px;
      margin: 0 auto;
      padding: 12px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      text-decoration:none;
      color:var(--text);
      font-weight:650;
      letter-spacing:.2px;
    }
    .brand-dot{
      width:10px; height:10px; border-radius:999px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 0 6px rgba(124,58,237,.10);
    }

    .nav-links{
      display:flex;
      align-items:center;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .nav-links a{
      color:var(--muted);
      text-decoration:none;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid transparent;
      transition: .16s ease;
      font-size: 14px;
    }
    .nav-links a:hover{
      color:var(--text);
      border-color: rgba(124,58,237,.35);
      background: rgba(255,255,255,.04);
    }
    .nav-links a.active{
      color: var(--text);
      border-color: rgba(124,58,237,.55);
      background: rgba(124,58,237,.10);
    }

    /* Page layout */
    .wrap{
      max-width: 1040px;
      margin: 0 auto;
      padding: 56px 20px 64px;
    }

    .hero{
      display:grid;
      grid-template-columns: 120px 1fr;
      gap: 22px;
      align-items:center;
      margin-top: 8px;
    }
    @media (max-width:720px){
      .hero{ grid-template-columns: 1fr; }
    }

    .avatar{
      width:120px; height:120px;
      border-radius: 999px;
      object-fit: cover;
      border: 2px solid rgba(124,58,237,.45);
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      background: rgba(255,255,255,.03);
    }

    h1{
      margin:0;
      font-size: 42px;
      line-height: 1.08;
      letter-spacing: -0.4px;
    }
    .subtitle{
      margin-top: 10px;
      color: var(--muted);
      line-height: 1.65;
      font-size: 16px;
      max-width: 76ch;
    }

    .meta{
      margin-top: 14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      color: var(--muted);
      font-size: 14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }

    /* Buttons (unified for <a> and <button>) */
    .btn{
      appearance:none; -webkit-appearance:none;
      font: inherit;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color: var(--text);
      text-decoration:none;
      transition: .16s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(124,58,237,.50);
      box-shadow: 0 14px 40px rgba(124,58,237,.14);
    }
    .btns{
      margin-top: 16px;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .icon{
      width:16px; height:16px;
      display:inline-block;
    }

    /* Sections */
    .section{
      margin-top: 44px;
    }
    .section-head{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 14px;
    }
    .section h2{
      margin:0;
      font-size: 15px;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: rgba(234,234,242,.92);
    }
    .section .hint{
      color: var(--muted);
      font-size: 13px;
    }

    /* Panels / grid */
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }
    .panel{
      grid-column: span 12;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 18px;
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
    }

    /* Experience timeline */
    .role{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      align-items:flex-start;
    }
    .role h3{
      margin:0 0 6px;
      font-size: 16px;
      letter-spacing: -0.2px;
    }
    .role .where{
      color: var(--muted);
      font-size: 14px;
    }
    .role .when{
      color: var(--muted);
      font-size: 13px;
      white-space: nowrap;
    }
    .bullets{
      margin: 12px 0 0;
      padding-left: 18px;
      color: var(--muted);
      line-height: 1.7;
      font-size: 14px;
    }
    .bullets li{ margin: 6px 0; }

    /* Skills columns */
    .cols{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    @media (max-width:900px){ .cols{ grid-template-columns: 1fr; } }
    .mini h3{
      margin:0 0 10px;
      font-size: 14px;
      color: rgba(234,234,242,.95);
    }
    .chips{
      display:flex; flex-wrap:wrap; gap:10px;
    }
    .chip{
      font-size: 13px;
      color: var(--muted);
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }

    /* Projects grid */
    .cards{
      display:grid;
      grid-template-columns: repeat(12,1fr);
      gap:14px;
    }
    .card{
      grid-column: span 6;
      background: rgba(18,18,26,.72);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      padding: 18px;
      backdrop-filter: blur(12px);
      transition: .16s ease;
      cursor:pointer;
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(124,58,237,.40);
      box-shadow: 0 18px 60px rgba(0,0,0,.40);
    }
    .card:focus{ outline: 2px solid rgba(124,58,237,.45); outline-offset: 2px; }
    .card h3{ margin:0 0 8px; font-size: 16px; letter-spacing:-.2px; }
    .card p{ margin:0; color: var(--muted); line-height:1.6; font-size: 14px; }
    .card .meta2{ margin-top: 12px; display:flex; gap:8px; flex-wrap:wrap; }
    .badge{
      font-size: 12px;
      color: var(--muted);
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    @media (max-width:900px){ .card{ grid-column: span 12; } }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      padding: 18px;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(12px);
      z-index:100;
    }
    .modal.open{ display:grid; }
    .modal-card{
      width: min(980px, 100%);
      max-height: min(82vh, 760px);
      overflow:auto;
      border-radius: var(--radius);
      background: rgba(18,18,26,.88);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 120px rgba(0,0,0,.60);
    }
    .modal-top{
      position: sticky;
      top: 0;
      background: rgba(18,18,26,.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,.08);
      padding: 16px 16px;
      display:flex;
      justify-content:space-between;
      gap: 12px;
      align-items:flex-start;
    }
    .modal-top h3{ margin:0; font-size: 16px; }
    .modal-sub{
      margin-top: 6px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
    }
    .close{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      cursor: pointer;
      transition: .16s ease;
      line-height: 1;
    }
    .close:hover{
      transform: translateY(-1px);
      border-color: rgba(124,58,237,.50);
      box-shadow: 0 14px 40px rgba(124,58,237,.14);
    }
    .modal-body{ padding: 16px; }
    .kpis{
      display:grid;
      grid-template-columns: repeat(12,1fr);
      gap: 10px;
      margin: 10px 0 16px;
    }
    .kpi{
      grid-column: span 4;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      padding: 10px 12px;
    }
    .kpi b{ display:block; font-size: 13px; }
    .kpi span{ color: var(--muted); font-size: 12px; }
    @media (max-width:900px){ .kpi{ grid-column: span 12; } }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom: 18px;
      transform: translateX(-50%) translateY(10px);
      opacity:0;
      pointer-events:none;
      z-index:120;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(18,18,26,.86);
      backdrop-filter: blur(10px);
      color: var(--text);
      font-size: 13px;
      transition: .16s ease;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(0);
    }

    /* Scroll reveal */
    .reveal{ opacity:0; transform: translateY(10px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.in{ opacity:1; transform:none; }
    @media (prefers-reduced-motion: reduce){
      .reveal{ opacity:1; transform:none; transition:none; }
      body::before, body::after{ animation:none; }
    }

    footer{
      margin-top: 44px;
      color: var(--muted);
      font-size: 13px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
      padding-top: 10px;
    }
    .quiet-link{ color: var(--muted); text-decoration:none; border-bottom: 1px solid rgba(255,255,255,.14); }
    .quiet-link:hover{ color: var(--text); border-bottom-color: rgba(124,58,237,.45); }
  </style>
</head>

<body>
  <div class="spotlight" aria-hidden="true"></div>

  <nav class="nav">
    <div class="nav-inner">
      <a class="brand" href="#top">
        <span class="brand-dot" aria-hidden="true"></span>
        Palash Tripathi
      </a>
      <div class="nav-links">
        <a href="#experience">Experience</a>
        <a href="#skills">Skills</a>
        <a href="#certifications">Certifications</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <main class="wrap" id="top">
    <!-- HERO -->
    <section class="hero reveal">
      <img class="avatar" src="assets/profile.jpg" alt="Palash Tripathi headshot" />
      <div>
        <h1>Data Engineer</h1>
        <div class="subtitle">
          Data Engineer specializing in cloud-based ETL pipelines, multi-tenant data platforms, and predictive analytics across AWS, PostgreSQL, and Microsoft Fabric.
        </div>

        <div class="meta">
          <span class="pill">San Diego, CA</span>
          <span class="pill">AWS • SQL • Python • Power BI</span>
        </div>

        <div class="btns">
          <a class="btn" href="assets/PalashT_Resume.pdf" target="_blank" rel="noreferrer">
            <span class="icon" aria-hidden="true">
              <!-- document icon -->
              <svg viewBox="0 0 24 24" fill="none" width="16" height="16">
                <path d="M7 3h7l3 3v15a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M14 3v4h4" stroke="currentColor" stroke-width="1.6"/>
              </svg>
            </span>
            Resume
          </a>

          <a class="btn" href="https://www.linkedin.com/in/palash-t-a87679137/" target="_blank" rel="noreferrer">
            <span class="icon" aria-hidden="true">
              <!-- linkedin-ish icon -->
              <svg viewBox="0 0 24 24" fill="none" width="16" height="16">
                <path d="M6.5 9.5V18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                <path d="M6.5 6.5h0" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                <path d="M10 18v-4.6c0-2.1 2.5-2.3 2.5 0V18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                <path d="M12.5 11.2c.6-.9 1.6-1.4 2.7-1.4 2 0 3.3 1.2 3.3 3.7V18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
              </svg>
            </span>
            LinkedIn
          </a>

          <a class="btn" href="https://github.com/palash-tripathi" target="_blank" rel="noreferrer">
            <span class="icon" aria-hidden="true">
              <!-- github-ish icon -->
              <svg viewBox="0 0 24 24" fill="none" width="16" height="16">
                <path d="M9 19c-4 1.2-4-2-5-2" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                <path d="M15 19v-3.1c0-.9.3-1.4.8-1.8-2.7-.3-5.6-1.3-5.6-6a4.7 4.7 0 0 1 1.2-3.2 4.3 4.3 0 0 1 .1-3.1s1-.3 3.3 1.2a11.3 11.3 0 0 1 6 0C23 1.6 24 1.9 24 1.9a4.3 4.3 0 0 1 .1 3.1A4.7 4.7 0 0 1 25.3 8c0 4.7-2.9 5.7-5.6 6 .5.4.9 1.2.9 2.4V19" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
              </svg>
            </span>
            GitHub
          </a>

          <button class="btn" id="copyEmail" type="button" aria-label="Copy email">
            <span class="icon" aria-hidden="true">
              <!-- chain link icon -->
              <svg viewBox="0 0 24 24" fill="none" width="16" height="16">
                <path d="M10 13.5l4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                <path d="M8.6 15.4l-1.4 1.4a3.5 3.5 0 0 1-5-5l1.4-1.4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
                <path d="M15.4 8.6l1.4-1.4a3.5 3.5 0 0 1 5 5l-1.4 1.4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
              </svg>
            </span>
            Email
          </button>
        </div>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section class="section reveal" id="experience">
      <div class="section-head">
        <h2>Experience</h2>
        <div class="hint">Impact-focused bullets, measurable outcomes.</div>
      </div>

      <div class="grid">
        <article class="panel">
          <div class="role">
            <div>
              <h3>E2 Consulting Engineers Inc. — Data Engineer & Analyst</h3>
              <div class="where">San Diego, CA</div>
            </div>
            <div class="when">May 2023 — Present</div>
          </div>
          <ul class="bullets">
            <li>Designed scalable ETL frameworks using SQL, Python, AWS Glue, and Microsoft Fabric for automated ingestion & transformation across business areas.</li>
            <li>Engineered a multi-tenant PostgreSQL analytics platform with automated schema provisioning, reducing new client onboarding time by <b>60–70%</b> while ensuring secure data isolation.</li>
            <li>Embedded real-time KPI dashboards and semantic models in Power BI and Apache Superset; integrated internal APIs and reduced manual reporting time by <b>40%</b>.</li>
            <li>Implemented automated data quality validation in the AWS data lake using Glue Jobs, DynamoDB lookups, and PostgreSQL integrity checks to improve reliability across reporting pipelines.</li>
            <li>Led migration of analytics workflows from Microsoft Fabric to AWS to improve scalability and long-term performance.</li>
          </ul>
        </article>

        <article class="panel">
          <div class="role">
            <div>
              <h3>Northern Trust — Full Stack Engineer</h3>
              <div class="where">Chicago, IL</div>
            </div>
            <div class="when">Dec 2021 — Dec 2022</div>
          </div>
          <ul class="bullets">
            <li>Migrated a monolithic architecture to microservices using Java, Spring Boot, Docker, and Kubernetes, improving deployment flexibility and performance.</li>
            <li>Developed responsive UI features using React/Redux and modern JavaScript to enhance application usability.</li>
            <li>Built secure RESTful services with OAuth2 authentication and optimized SQL cluster performance for high workloads.</li>
            <li>Improved CI/CD automation (Bamboo/Concourse/Git) to streamline builds and releases.</li>
          </ul>
        </article>

        <article class="panel">
          <div class="role">
            <div>
              <h3>StonedGenie — Data Engineer I</h3>
              <div class="where">Riverside, CA</div>
            </div>
            <div class="when">May 2020 — Jul 2021</div>
          </div>
          <ul class="bullets">
            <li>Built forecasting models and automated inventory reporting to improve stock planning accuracy.</li>
            <li>Designed and maintained PostgreSQL data models; automated SQL-based ETL workflows with indexing and query optimization.</li>
            <li>Developed ML models that increased customer CTR by <b>33%</b> and improved targeted marketing effectiveness.</li>
            <li>Delivered dashboards for sales and campaign performance to provide real-time visibility into key metrics.</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- SKILLS -->
    <section class="section reveal" id="skills">
      <div class="section-head">
        <h2>Skills</h2>
        <div class="hint">Grouped for fast scanning.</div>
      </div>

      <div class="panel">
        <div class="cols">
          <div class="mini">
            <h3>Data & Programming</h3>
            <div class="chips">
              <span class="chip">SQL</span>
              <span class="chip">Python</span>
              <span class="chip">DAX</span>
              <span class="chip">Java</span>
              <span class="chip">JavaScript</span>
            </div>
          </div>

          <div class="mini">
            <h3>Cloud & Platforms</h3>
            <div class="chips">
              <span class="chip">AWS (Glue, Lambda, S3)</span>
              <span class="chip">DynamoDB</span>
              <span class="chip">Redshift</span>
              <span class="chip">Linux</span>
              <span class="chip">Docker</span>
              <span class="chip">CI/CD</span>
            </div>
          </div>

          <div class="mini">
            <h3>Analytics & BI</h3>
            <div class="chips">
              <span class="chip">Power BI</span>
              <span class="chip">Apache Superset</span>
              <span class="chip">Microsoft Fabric</span>
              <span class="chip">SAP HANA</span>
              <span class="chip">Primavera P6</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CERTIFICATIONS -->
    <section class="section reveal" id="certifications">
      <div class="section-head">
        <h2>Certifications</h2>
        <div class="hint">Keep this tight and verifiable.</div>
      </div>

      <div class="panel">
        <ul class="bullets" style="margin-top:0">
          <li>Microsoft PL-300</li>
          <li>SQL (Dual Certified)</li>
        </ul>
      </div>
    </section>

    <!-- PROJECTS -->
    <section class="section reveal" id="projects">
      <div class="section-head">
        <h2>Projects</h2>
        <div class="hint">Click a project for details.</div>
      </div>

      <div class="cards">
        <article class="card" data-project="tenant" tabindex="0">
          <h3>Multi-tenant analytics platform</h3>
          <p>Automated schema provisioning and tenant isolation for scalable client onboarding.</p>
          <div class="meta2">
            <span class="badge">PostgreSQL</span><span class="badge">AWS</span><span class="badge">Python</span>
          </div>
        </article>

        <article class="card" data-project="dq" tabindex="0">
          <h3>Cloud ETL + data quality framework</h3>
          <p>Serverless ingestion and validation checks to improve reporting reliability.</p>
          <div class="meta2">
            <span class="badge">Glue</span><span class="badge">Lambda</span><span class="badge">DynamoDB</span>
          </div>
        </article>

        <article class="card" data-project="forecast" tabindex="0">
          <h3>Forecasting & supply chain analytics</h3>
          <p>Predictive models to support planning accuracy and inventory decisions.</p>
          <div class="meta2">
            <span class="badge">Python</span><span class="badge">SQL</span><span class="badge">Power BI</span>
          </div>
        </article>

        <article class="card" data-project="dashboards" tabindex="0">
          <h3>Embedded KPI dashboards</h3>
          <p>Real-time dashboards with semantic models and API-driven metrics.</p>
          <div class="meta2">
            <span class="badge">Power BI</span><span class="badge">Superset</span><span class="badge">APIs</span>
          </div>
        </article>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="section reveal" id="contact">
      <div class="section-head">
        <h2>Contact</h2>
        <div class="hint">Fast ways to reach you.</div>
      </div>

      <div class="panel">
        <div style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;color:var(--muted);font-size:14px">
          <span class="pill">palash.trip@gmail.com</span>
          <span class="pill">San Diego, CA</span>
          <a class="quiet-link" href="assets/PalashT_Resume.pdf" target="_blank" rel="noreferrer">Download resume</a>
        </div>
      </div>
    </section>

    <footer class="reveal">
      <div>© <span id="year"></span> Palash Tripathi</div>
      <div><a class="quiet-link" href="#top">Back to top</a></div>
    </footer>
  </main>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-top">
        <div>
          <h3 id="modalTitle">Project</h3>
          <div class="modal-sub" id="modalSub"></div>
        </div>
        <button class="close" id="modalClose" aria-label="Close">✕</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // Spotlight cursor
    const root = document.documentElement;
    window.addEventListener("mousemove", (e) => {
      const x = (e.clientX / window.innerWidth) * 100;
      const y = (e.clientY / window.innerHeight) * 100;
      root.style.setProperty("--mx", x + "%");
      root.style.setProperty("--my", y + "%");
    }, { passive: true });

    // Year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Scroll reveal
    const revealEls = document.querySelectorAll(".reveal");
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add("in");
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    revealEls.forEach(el => io.observe(el));

    // Active nav highlighting
    const sections = ["experience","skills","certifications","projects","contact"]
      .map(id => document.getElementById(id));
    const navLinks = Array.from(document.querySelectorAll(".nav-links a"))
      .filter(a => a.getAttribute("href")?.startsWith("#"));
    function setActive(){
      const y = window.scrollY + 140;
      let current = "experience";
      for (const s of sections) if (s && s.offsetTop <= y) current = s.id;
      navLinks.forEach(a => a.classList.toggle("active", a.getAttribute("href") === `#${current}`));
    }
    window.addEventListener("scroll", setActive, { passive:true });
    setActive();

    // Copy email + toast
    const emailValue = "palash.trip@gmail.com";
    const copyBtn = document.getElementById("copyEmail");
    const toast = document.getElementById("toast");
    let toastTimer;

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove("show"), 1400);
    }

    async function copyToClipboard(text){
      try{
        await navigator.clipboard.writeText(text);
        return true;
      }catch{
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.style.position = "fixed";
        ta.style.opacity = "0";
        document.body.appendChild(ta);
        ta.select();
        const ok = document.execCommand("copy");
        document.body.removeChild(ta);
        return ok;
      }
    }

    copyBtn.addEventListener("click", async () => {
      const ok = await copyToClipboard(emailValue);
      showToast(ok ? "Email copied" : "Copy failed");
    });

    // Projects modal
    const projects = {
      tenant: {
        title: "Multi-tenant analytics platform",
        sub: "PostgreSQL • AWS • Python • SQL",
        kpis: [
          { label: "Impact", value: "60–70% faster onboarding" },
          { label: "Design", value: "Tenant isolation + automation" },
          { label: "Outcome", value: "Scalable analytics foundation" }
        ],
        body: `
          <p style="color:var(--muted);margin:0 0 12px;line-height:1.7;font-size:14px">
            Built a multi-tenant PostgreSQL analytics platform with automated schema provisioning and secure isolation.
          </p>
          <h4 style="margin:16px 0 8px;font-size:14px">Highlights</h4>
          <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.7;font-size:14px">
            <li>Automated tenant setup to reduce onboarding time by 60–70%.</li>
            <li>Designed tenant-aware schemas and guardrails for reliability and isolation.</li>
            <li>Optimized analytics queries and data models for reporting workloads.</li>
          </ul>
        `
      },
      dq: {
        title: "Cloud ETL + data quality framework",
        sub: "AWS Glue • Lambda • DynamoDB • PostgreSQL",
        kpis: [
          { label: "Goal", value: "Reliable pipelines" },
          { label: "Method", value: "Validation + integrity checks" },
          { label: "Result", value: "Higher reporting trust" }
        ],
        body: `
          <p style="color:var(--muted);margin:0 0 12px;line-height:1.7;font-size:14px">
            Implemented ETL workflows with automated data quality validation in the AWS data lake.
          </p>
          <h4 style="margin:16px 0 8px;font-size:14px">Highlights</h4>
          <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.7;font-size:14px">
            <li>Glue jobs for ingestion/transforms with DynamoDB lookups for validation rules.</li>
            <li>PostgreSQL integrity checks to prevent downstream reporting failures.</li>
            <li>Improved accuracy and reliability across reporting pipelines.</li>
          </ul>
        `
      },
      forecast: {
        title: "Forecasting & supply chain analytics",
        sub: "Python • SQL • Power BI",
        kpis: [
          { label: "Outcome", value: "Improved planning accuracy" },
          { label: "Use case", value: "Reduce stockouts/overstock" },
          { label: "Delivery", value: "Operational visibility" }
        ],
        body: `
          <p style="color:var(--muted);margin:0 0 12px;line-height:1.7;font-size:14px">
            Developed forecasting models and reporting to improve inventory decisions and supply chain planning.
          </p>
          <h4 style="margin:16px 0 8px;font-size:14px">Highlights</h4>
          <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.7;font-size:14px">
            <li>Prepared model-ready datasets using SQL transformations and feature engineering.</li>
            <li>Integrated outputs into decision-ready Power BI reporting.</li>
          </ul>
        `
      },
      dashboards: {
        title: "Embedded KPI dashboards",
        sub: "Power BI • Apache Superset • APIs",
        kpis: [
          { label: "Impact", value: "40% less manual reporting" },
          { label: "Approach", value: "Semantic models + APIs" },
          { label: "Cost", value: "Lower embedding overhead" }
        ],
        body: `
          <p style="color:var(--muted);margin:0 0 12px;line-height:1.7;font-size:14px">
            Embedded KPI dashboards with semantic models and API-driven metrics in Power BI and Apache Superset.
          </p>
          <h4 style="margin:16px 0 8px;font-size:14px">Highlights</h4>
          <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.7;font-size:14px">
            <li>Integrated internal APIs and standardized metric definitions via semantic models.</li>
            <li>Adopted open-source embedding approach to reduce costs while improving flexibility.</li>
          </ul>
        `
      }
    };

    const modal = document.getElementById("modal");
    const modalTitle = document.getElementById("modalTitle");
    const modalSub = document.getElementById("modalSub");
    const modalBody = document.getElementById("modalBody");
    const modalClose = document.getElementById("modalClose");

    function openModal(key){
      const p = projects[key];
      if (!p) return;

      modalTitle.textContent = p.title;
      modalSub.textContent = p.sub;

      const kpiHtml = `
        <div class="kpis">
          ${p.kpis.map(k => `
            <div class="kpi">
              <b>${k.label}</b>
              <span>${k.value}</span>
            </div>
          `).join("")}
        </div>
      `;

      modalBody.innerHTML = kpiHtml + p.body;

      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
      modalClose.focus();
    }

    function closeModal(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
    }

    document.querySelectorAll("[data-project]").forEach(card => {
      card.addEventListener("click", () => openModal(card.dataset.project));
      card.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") openModal(card.dataset.project);
      });
    });

    modalClose.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => { if (e.target === modal) closeModal(); });
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("open")) closeModal();
    });
  </script>
</body>
</html>
